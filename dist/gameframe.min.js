!function e(t,i,s){function o(a,r){if(!i[a]){if(!t[a]){var l="function"==typeof require&&require;if(!r&&l)return l(a,!0);if(n)return n(a,!0);var h=new Error("Cannot find module '"+a+"'");throw h.code="MODULE_NOT_FOUND",h}var c=i[a]={exports:{}};t[a][0].call(c.exports,(function(e){return o(t[a][1][e]||e)}),c,c.exports,e,t,i,s)}return i[a].exports}for(var n="function"==typeof require&&require,a=0;a<s.length;a++)o(s[a]);return o}({1:[function(e,t,i){t.exports={name:"gameframe",version:"0.1.17",description:"game components for A-Frame",main:"index.js",scripts:{prepare:"npm run build",build:'foreach -g src/*.js -x "browserify #{path} -o dist/#{name}.js" && npm run minify',watch:'foreach -g src/*.js -C -x "watchify #{path} -d -o dist/#{name}.js"',minify:'touch dist/foo.min.js && rm dist/*.min.js && foreach -g dist/*.js -C -x "minify #{path} > dist/#{name}.min.js"',bump:"npm version patch --no-git-tag-version",gitadd:"git add package*.json dist/"},"pre-commit":["bump","build","gitadd"],keywords:["aframe","webvr","webxr","gamedev"],author:"poeticAndroid",license:"MIT",devDependencies:{browserify:"^17.0.0","foreach-cli":"^1.8.1",minify:"^7.0.1","pre-commit":"^1.2.2",watchify:"^4.0.0"}}},{}],2:[function(e,t,i){AFRAME.registerComponent("include",{schema:{type:"string"},init:async function(){if(this.data&&!this.el.sceneEl._including_){this.el.sceneEl._including_=!0;let e=this.el.outerHTML,t=e.indexOf(" "),i=e.indexOf(" include="),s=e.substr(t,i-t);t=e.indexOf('"',i+10)+1,i=e.indexOf(">"),s+=e.substr(t,i-t);let o=await fetch(this.data);o.status>=200&&o.status<300?this.el.outerHTML=await(await o.text()).replace(">"," >").replace(" "," "+s+" "):this.el.removeAttribute("include"),this.el.sceneEl._including_=!1;let n=this.el.sceneEl.querySelector("[include]");n&&n.components&&n.components.include&&n.components.include.init()}}})},{}],3:[function(e,t,i){AFRAME.registerComponent("injectplayer",{init:function(){this.el.ensure("a-camera","a-camera",{"look-controls":{pointerLockEnabled:!0,touchEnabled:!1},"wasd-controls":{enabled:!1}}).ensure(".tracker","a-entity",{class:"tracker"});this.el.ensure('a-hand[side="left"]',"a-hand",{side:"left"}),this.el.ensure('a-hand[side="right"]',"a-hand",{side:"right"})}})},{}],4:[function(e,t,i){AFRAME.registerComponent("locomotion",{dependencies:["position","injectplayer"],schema:{speed:{type:"number",default:4},rotationSpeed:{type:"number",default:1},quantizeMovement:{type:"boolean",default:!1},quantizeRotation:{type:"boolean",default:!0},teleportDistance:{type:"number",default:3},godMode:{type:"boolean",default:!1}},init:function(){this._onKeyDown=this._onKeyDown.bind(this),this._onKeyUp=this._onKeyUp.bind(this),this._keysDown={},this.centerPos=new THREE.Vector3,this.headPos=new THREE.Vector3,this.headDir=new THREE.Vector3,this.feetPos=new THREE.Vector3,this._camera=this.el.querySelector("a-camera"),this._cameraObj=this._camera.querySelector(".tracker"),this._leftHand=this.el.querySelector('a-hand[side="left"]'),this._rightHand=this.el.querySelector('a-hand[side="right"]'),this._legs=this.el.sceneEl.ensure(".legs","a-sphere",{class:"legs",position:"0 0.5 0",radius:.125,color:"blue",raycaster:{autoRefresh:!1,objects:"[floor]",direction:"0 -1 0",far:.625}}),this._legBumper=this.el.sceneEl.ensure(".legBumper","a-sphere",{class:"legBumper",position:"0 15 0",radius:.125,color:"red",raycaster:{autoRefresh:!1,objects:"[floor], [wall]",showLine:!0}}),this._headBumper=this.el.sceneEl.ensure(".headBumper","a-entity",{class:"headBumper",position:"0 15 0",raycaster:{autoRefresh:!1,objects:"[floor], [wall]"}})},update:function(e){},play:function(){document.addEventListener("keydown",this._onKeyDown),document.addEventListener("keyup",this._onKeyUp)},pause:function(){document.removeEventListener("keydown",this._onKeyDown),document.removeEventListener("keyup",this._onKeyUp)},remove:function(){this.el.sceneEl.removeChild(this._legs),this.el.sceneEl.removeChild(this._legBumper),this.el.sceneEl.removeChild(this._headBumper)},tick:function(e,t){t/=1e3,this.el.object3D.getWorldPosition(this.centerPos),this._cameraObj.object3D.getWorldPosition(this.headPos),this._cameraObj.object3D.getWorldDirection(this.headDir),this._legs.object3D.getWorldPosition(this.feetPos),this.feetPos.y-=.5,this._applyMoveStick(t),this._applyAuxStick(t);let i=THREE.Vector3.temp().copy(this.headPos).sub(this.feetPos);if(i.y=0,i.length()>.5&&(i.multiplyScalar(.1),this._legs.object3D.position.add(i),this.feetPos.add(i)),!this._caution){let e=this._legs.components.raycaster;e.refreshObjects();let t=e.intersections[0];t?this._move(THREE.Vector3.temp().set(0,.5-t.distance,0)):this._move(THREE.Vector3.temp().set(0,-.125,0))}this._bump(this._legs,this._legBumper),this._bump(this._cameraObj,this._headBumper)},_move:function(e){this.el.object3D.position.add(e),this.centerPos.add(e),this.headPos.add(e),this._legs.object3D.position.y+=e.y,this.feetPos.y+=e.y},_toggleCrouch:function(e){let t,i=this.headPos.y-this.feetPos.y;this.centerPos.y!==this.feetPos.y?t=this.feetPos.y-this.centerPos.y:e||(t=i>1?-1:1),t&&this.el.setAttribute("animation",{property:"object3D.position.y",to:this.el.object3D.position.y+t,dur:256})},_bump:function(e,t){let i=THREE.Matrix3.temp(),s=THREE.Vector3.temp();e.object3D.getWorldPosition(s),s.sub(t.object3D.position);let o=s.length();o&&(t.setAttribute("raycaster","far",o+.125),t.setAttribute("raycaster","direction",s.normalize()),ray=t.components.raycaster,ray.refreshObjects(),hit=ray.intersections[0],hit?(i.getNormalMatrix(hit.object.el.object3D.matrixWorld),s.copy(hit.face.normal).applyMatrix3(i).normalize().multiplyScalar(.125+o),this._move(s),s.y=0,this._legs.object3D.position.add(s),this._caution=4):this._caution?this._caution--:t.object3D.position.lerp(this._legs.object3D.position,.25))},_callMoveStick(){let e=THREE.Vector2.temp().set(0,0);return this._keysDown.a&&e.x--,this._keysDown.d&&e.x++,(this._keysDown.w||this._keysDown.ArrowUp)&&e.y--,(this._keysDown.s||this._keysDown.ArrowDown)&&e.y++,e},_applyMoveStick:function(e){let t=this._callMoveStick();t.multiplyScalar(this.data.speed),t.multiplyScalar(e);let i=THREE.Vector2.temp().set(-this.headDir.z,this.headDir.x).angle()-Math.PI,s=Math.cos(i)*t.x-Math.sin(i)*t.y,o=Math.sin(i)*t.x+Math.cos(i)*t.y,n=THREE.Vector3.temp().set(s,0,o);this.data.quantizeMovement&&(this._quantTime=this._quantTime||0,this._quantDelta=this._quantDelta||new THREE.Vector3,this._quantTime+=e,this._quantDelta.add(n),this._quantTime>.25?(this._quantTime-=.25,n.copy(this._quantDelta),this._quantDelta.set(0,0,0)):n.set(0,0,0)),this._move(n)},_callAuxStick(){let e=THREE.Vector2.temp().set(0,0);return this._keysDown.ArrowLeft&&e.x--,this._keysDown.ArrowRight&&e.x++,this._keysDown.Space&&e.y--,this._keysDown.Control&&e.y++,e},_applyAuxStick:function(e){let t=this._callAuxStick(),i=0;if(this.data.quantizeRotation?Math.round(t.x)?this._rotating||(this._rotating=!0,i=-Math.round(t.x)*Math.PI/4):this._rotating=!1:i=-t.x*this.data.rotationSpeed*e,i){let e=THREE.Vector2.temp(),t=THREE.Vector2.temp(),s=THREE.Vector3.temp();e.set(this.feetPos.x,this.feetPos.z),t.set(this.centerPos.x,this.centerPos.z),e.rotateAround(t,-i),s.set(this.feetPos.x-e.x,0,this.feetPos.z-e.y),this.el.object3D.rotateY(i),this.el.object3D.position.add(s),this.centerPos.add(s)}Math.round(t.y)>0?this._crouching||(this._crouching=!0,this._toggleCrouch()):this._crouching=!1},_onKeyDown(e){this._keysDown[e.key]=!0},_onKeyUp(e){this._keysDown[e.key]=!1}}),e("./locomotion/floor"),e("./locomotion/wall"),e("./locomotion/start")},{"./locomotion/floor":5,"./locomotion/start":6,"./locomotion/wall":7}],5:[function(e,t,i){AFRAME.registerComponent("floor",{schema:{physics:{type:"boolean",default:!0}},update:function(){this.data.physics&&!this.el.getAttribute("body")&&this.el.setAttribute("body","type:static")}})},{}],6:[function(e,t,i){AFRAME.registerComponent("start",{init:function(){let e=this.el.sceneEl.querySelector("[locomotion]").components.locomotion,t=this.el.object3D.position;console.log("starting at",t),setTimeout((()=>{e.moveTo(t.x,t.y+1,t.z,!0,!0),setTimeout((()=>{e.floorOffset&&e.toggleCrouch()}),256)}),256)}})},{}],7:[function(e,t,i){AFRAME.registerComponent("wall",{schema:{physics:{type:"boolean",default:!0}},update:function(){this.data.physics&&!this.el.getAttribute("body")&&this.el.setAttribute("body","type:static")}})},{}],8:[function(e,t,i){const s=e("../libs/cmdCodec");AFRAME.registerSystem("physics",{schema:{workerUrl:{type:"string"},gravity:{type:"vec3",default:{x:0,y:-9.8,z:0}},debug:{type:"boolean",default:!1}},update:function(){this.data.workerUrl?(this.worker||(this.worker=new Worker(this.data.workerUrl),this.worker.addEventListener("message",this.onMessage.bind(this))),this.bodies=this.bodies||[],this.movingBodies=this.movingBodies||[],this.joints=this.joints||[],this.buffers=[new Float64Array(8),new Float64Array(8)],this.worker.postMessage("world gravity = "+s.stringifyParam(this.data.gravity)),this._debug=this.data.debug):this.remove()},remove:function(){this.worker&&this.worker.terminate(),this.worker=null,this.bodies=[],this.movingBodies=[]},tick:function(e,t){if(!this.worker)return;if(this.buffers.length<2)return;let i=this.buffers.shift();if(i.length<8*this.movingBodies.length){let e=i.length;for(;e<8*this.movingBodies.length;)e*=2;let t=this.movingBodies;i=new Float64Array(e),i.fill(NaN);let s=THREE.Vector3.temp(),o=THREE.Quaternion.temp();for(let e=0;e<t.length;e++){let n=8*e;t[e]&&(t[e].object3D.getWorldPosition(s),i[n++]=s.x,i[n++]=s.y,i[n++]=s.z,n++,t[e].object3D.getWorldQuaternion(o),i[n++]=o.x,i[n++]=o.y,i[n++]=o.z,i[n++]=o.w)}}this.worker.postMessage(i,[i.buffer])},onMessage:function(e){if("string"==typeof e.data){let t=s.parse(e.data);switch(t.shift()){case"world":this.command(t)}}else if(e.data instanceof Float64Array)for(this.buffers.push(e.data);this.buffers.length>2;)this.buffers.shift()},command:function(e){switch("number"==typeof e[0]&&e.shift(),e.shift()){case"body":let t=e.shift(),i=this.bodies[t];i&&i.components.body.command(e)}}}),e("./physics/body"),e("./physics/shape"),e("./physics/joint")},{"../libs/cmdCodec":13,"./physics/body":9,"./physics/joint":10,"./physics/shape":11}],9:[function(e,t,i){const s=e("../../libs/cmdCodec");AFRAME.registerComponent("body",{dependencies:["position","rotation","scale"],schema:{type:{type:"string",default:"static"},mass:{type:"number",default:1},belongsTo:{type:"int",default:1},collidesWith:{type:"int",default:1},emitsWith:{type:"int",default:0},sleeping:{type:"boolean",default:!1},autoShape:{type:"boolean",default:!0}},init:function(){let e=this.el.sceneEl.systems.physics.worker,t=this.el.sceneEl.systems.physics.bodies,i=this.el.sceneEl.systems.physics.movingBodies,o=this.el.sceneEl.systems.physics.buffers[0];if(!e)return;this.id=t.indexOf(null),this.id<0&&(this.id=t.length),t[this.id]=this.el,"static"!==this.data.type?(this.mid=i.indexOf(null),this.mid<0&&(this.mid=i.length),i[this.mid]=this.el):this.mid=null;let n={mid:this.mid};if(n.type=this.data.type,n.position=this.el.object3D.getWorldPosition(THREE.Vector3.temp()),n.quaternion=this.el.object3D.getWorldQuaternion(THREE.Quaternion.temp()),null!==this.mid){let e=8*this.mid;o[e++]=n.position.x,o[e++]=n.position.y,o[e++]=n.position.z,o[e++]=this.data.sleeping,o[e++]=n.quaternion.x,o[e++]=n.quaternion.y,o[e++]=n.quaternion.z,o[e++]=n.quaternion.w}if(this.shapes=[],this.sleeping=!0,e.postMessage("world body "+this.id+" create "+s.stringifyParam(n)),setTimeout((()=>{n.position=this.el.object3D.getWorldPosition(THREE.Vector3.temp()),n.quaternion=this.el.object3D.getWorldQuaternion(THREE.Quaternion.temp()),e.postMessage("world body "+this.id+" position = "+s.stringifyParam(n.position)),e.postMessage("world body "+this.id+" quaternion = "+s.stringifyParam(n.quaternion))})),this.data.autoShape&&!this.el.getAttribute("shape"))if(this.el.firstElementChild){let e=this.el.querySelectorAll("a-box, a-sphere, a-cylinder");e&&e.forEach((e=>{e.getAttribute("shape")||e.setAttribute("shape",!0)}))}else this.el.setAttribute("shape",!0)},update:function(e){let t=this.el.sceneEl.systems.physics.worker;t&&(this.data.type!==e.type&&t.postMessage("world body "+this.id+" type = "+s.stringifyParam(this.data.type)),this.data.mass!==e.mass&&t.postMessage("world body "+this.id+" mass = "+s.stringifyParam(this.data.mass)),this.data.belongsTo!==e.belongsTo&&t.postMessage("world body "+this.id+" belongsTo = "+s.stringifyParam(this.data.belongsTo)),this.data.collidesWith!==e.collidesWith&&t.postMessage("world body "+this.id+" collidesWith = "+s.stringifyParam(this.data.collidesWith)),this.data.emitsWith!==e.emitsWith&&t.postMessage("world body "+this.id+" emitsWith = "+s.stringifyParam(this.data.emitsWith)),setTimeout((()=>{t.postMessage("world body "+this.id+" sleeping = "+!!this.data.sleeping)})))},pause:function(){let e=this.el.sceneEl.systems.physics.worker;e&&(e.postMessage("world body "+this.id+" sleeping = true"),this.sleeping=!0)},remove:function(){let e=this.el.sceneEl.systems.physics.worker,t=this.el.sceneEl.systems.physics.bodies,i=this.el.sceneEl.systems.physics.movingBodies;e&&(t[this.id]=null,null!==this.mid&&(i[this.mid]=null),e.postMessage("world body "+this.id+" remove"))},tick:function(){let e=this.el.sceneEl.systems.physics.worker,t=this.el.sceneEl.systems.physics.buffers[0];if(e&&null!==this.mid){let e=8*this.mid;if(t.length<=e)return;if("kinematic"===this.data.type){let i=this.el.object3D.getWorldPosition(THREE.Vector3.temp());t[e++]=i.x,t[e++]=i.y,t[e++]=i.z,this.sleeping=!!t[e++];let s=this.el.object3D.getWorldQuaternion(THREE.Quaternion.temp());t[e++]=s.x,t[e++]=s.y,t[e++]=s.z,t[e++]=s.w}else if(t[e+1]){let i=THREE.Quaternion.temp();this.el.object3D.position.set(t[e++],t[e++],t[e++]),this.el.object3D.parent.worldToLocal(this.el.object3D.position),this.sleeping=!!t[e++],this.el.object3D.getWorldQuaternion(i),this.el.object3D.quaternion.multiply(i.conjugate().normalize()),i.set(t[e++],t[e++],t[e++],t[e++]),this.el.object3D.quaternion.multiply(i.normalize())}}},command:function(e){switch(e.shift()){case"emits":let t=e.shift();switch(t.event){case"collision":let e=this.el.sceneEl.systems.physics.bodies;if(t.body1=e[t.body1],t.body2=e[t.body2],!t.body1||!t.body2)return;t.shape1=t.body1.components.body.shapes[t.shape1],t.shape2=t.body2.components.body.shapes[t.shape2]}this.el.emit(t.event,t)}}})},{"../../libs/cmdCodec":13}],10:[function(e,t,i){const s=e("../../libs/cmdCodec");AFRAME.registerComponent("joint",{multiple:!0,schema:{type:{type:"string",default:"ball"},body1:{type:"selector"},body2:{type:"selector"},pivot1:{type:"vec3",default:{x:0,y:0,z:0}},pivot2:{type:"vec3",default:{x:0,y:0,z:0}},axis1:{type:"vec3",default:{x:0,y:1,z:0}},axis2:{type:"vec3",default:{x:0,y:1,z:0}},min:{type:"number",default:0},max:{type:"number",default:1},collision:{type:"boolean",default:!0}},init:function(){let e=this.el.sceneEl.systems.physics.worker,t=this.el.sceneEl.systems.physics.joints;e&&(this.id=t.indexOf(null),this.id<0&&(this.id=t.length),t[this.id]=this.el,setTimeout((()=>{let t={};t.type=this.data.type,t.body1=this.data.body1?this.data.body1.components.body.id:this.el.components.body.id,t.body2=this.data.body2.components.body.id,t.pivot1=this.data.pivot1,t.pivot2=this.data.pivot2,t.axis1=this.data.axis1,t.axis2=this.data.axis2,t.min=this.data.min,t.max=this.data.max,t.collision=this.data.collision,e.postMessage("world joint "+this.id+" create "+s.stringifyParam(t))})))},update:function(e){this.el.sceneEl.systems.physics.worker},remove:function(){let e=this.el.sceneEl.systems.physics.worker,t=this.el.sceneEl.systems.physics.joints;e&&(t[this.id]=null,e.postMessage("world joint "+this.id+" remove"))}})},{"../../libs/cmdCodec":13}],11:[function(e,t,i){const s=e("../../libs/cmdCodec");AFRAME.registerComponent("shape",{multiple:!0,schema:{},init:function(){let e=this.el.sceneEl.systems.physics.worker;e&&setTimeout((()=>{for(this.body=this.el;this.body&&!this.body.matches("[body]");)this.body=this.body.parentElement;this.bodyId=this.body.components.body.id;let t=this.body.components.body.shapes;this.id=t.indexOf(null),this.id<0&&(this.id=t.length),t[this.id]=this.el;let i={};i.position=this.el.object3D.getWorldPosition(THREE.Vector3.temp()),this.body.object3D.worldToLocal(i.position),i.quaternion=this.el.object3D.getWorldQuaternion(THREE.Quaternion.temp());let o=this.body.object3D.getWorldQuaternion(THREE.Quaternion.temp());switch(i.quaternion.multiply(o.conjugate().normalize()).normalize(),i.size=THREE.Vector3.temp().set(1,1,1),this.el.tagName.toLowerCase()){case"a-sphere":i.type="sphere",i.size.multiplyScalar(2*parseFloat(this.el.getAttribute("radius")||1));break;case"a-cylinder":i.type="cylinder",i.size.multiplyScalar(2*parseFloat(this.el.getAttribute("radius")||1)).y=parseFloat(this.el.getAttribute("height")||1);break;case"a-box":i.type="box",i.size.set(parseFloat(this.el.getAttribute("width")||1),parseFloat(this.el.getAttribute("height")||1),parseFloat(this.el.getAttribute("depth")||1))}e.postMessage("world body "+this.bodyId+" shape "+this.id+" create "+s.stringifyParam(i))}))},update:function(){},remove:function(){let e=this.el.sceneEl.systems.physics.worker,t=this.body.components.body.shapes;e.postMessage("world body "+this.bodyId+" shape "+this.id+" remove"),t[this.id]=null}})},{"../../libs/cmdCodec":13}],12:[function(e,t,i){e("./libs/pools"),e("./libs/copyWorldPosRot"),e("./libs/ensureElement"),e("./libs/touchGestures"),setTimeout((()=>{document.body.addEventListener("swipeup",(e=>{document.body.requestFullscreen()}))})),e("./components/include"),e("./components/physics"),e("./components/injectplayer"),e("./components/locomotion"),e("./primitives/a-main"),e("./primitives/a-player"),e("./primitives/a-hand");const s=e("../package");console.log(`${s.name} Version ${s.version} by ${s.author}`)},{"../package":1,"./components/include":2,"./components/injectplayer":3,"./components/locomotion":4,"./components/physics":8,"./libs/copyWorldPosRot":14,"./libs/ensureElement":15,"./libs/pools":16,"./libs/touchGestures":17,"./primitives/a-hand":18,"./primitives/a-main":19,"./primitives/a-player":20}],13:[function(e,t,i){t.exports={parse:function(e){let t=e.split(" "),i=[];for(let e of t)if(e)try{i.push(JSON.parse(e))}catch(t){"="!==e&&i.push(e)}return i},stringifyParam:function(e){return JSON.stringify(e).replaceAll(" ","\\u0020").replaceAll('"_','"')}}},{}],14:[function(e,t,i){AFRAME.AEntity.prototype.copyWorldPosRot=function(e){let t=THREE.Quaternion.temp(),i=e.object3D,s=this.object3D;i&&s&&s.parent&&(i.getWorldPosition(s.position),s.parent.worldToLocal(s.position),s.getWorldQuaternion(t),s.quaternion.multiply(t.conjugate().normalize()),i.getWorldQuaternion(t),s.quaternion.multiply(t.normalize()))}},{}],15:[function(e,t,i){Element.prototype.ensure=function(e,t=e,i={}){let s,o,n;if(s=this.querySelector(e),!s)for(o in s=document.createElement(t),this.appendChild(s),i)n=i[o],s.setAttribute(o,n);return s}},{}],16:[function(e,t,i){function s(e){e._pool=[],e._inUse=[],e.temp=function(){let t=e._pool.pop()||new e;return e._inUse.push(t),e._gc||(e._gc=setTimeout(e._recycle)),t},e._recycle=function(){for(;e._inUse.length;)e._pool.push(e._inUse.pop());e._gc=!1}}s(THREE.Vector2),s(THREE.Vector3),s(THREE.Quaternion),s(THREE.Matrix3),s(THREE.Matrix4)},{}],17:[function(e,t,i){let s=Element.prototype.addEventListener,o=Element.prototype.removeEventListener,n=e=>{if(e._tgest)return e._tgest;let t,i,s,o;e._tgest={handlers:{swipeup:[],swipedown:[],swipeleft:[],swiperight:[],tap:[],hold:[]}};let n=(t,i)=>{if(e._tgest.handlers[t])for(let s of e._tgest.handlers[t])s(i);else console.log(t,e._tgest.handlers[t])};return e.addEventListener("touchstart",(e=>{t=e.changedTouches[0].screenX,i=e.changedTouches[0].screenY,o=!1,s=setTimeout((()=>{o=!0,n("hold",e)}),512)})),e.addEventListener("touchmove",(e=>{let a=e.changedTouches[0].screenX,r=e.changedTouches[0].screenY;if(Math.sqrt(Math.pow(t-a,2)+Math.pow(i-r,2))>32){if(clearTimeout(s),o)return;Math.abs(t-a)>Math.abs(i-r)?n(a<t?"swipeleft":"swiperight",e):n(r<i?"swipeup":"swipedown",e),o=!0}})),e.addEventListener("touchend",(e=>{clearTimeout(s);let a=e.changedTouches[0].screenX,r=e.changedTouches[0].screenY;if(Math.sqrt(Math.pow(t-a,2)+Math.pow(i-r,2))<32){if(o)return;n("tap",e)}})),e._tgest};Element.prototype.addEventListener=function(e,t){switch(e){case"swipeup":case"swipedown":case"swipeleft":case"swiperight":case"tap":case"hold":n(this).handlers[e].push(t);break;default:return s.call(this,e,t)}},Element.prototype.removeEventListener=function(e,t){switch(e){case"swipeup":case"swipedown":case"swipeleft":case"swiperight":case"tap":case"hold":let i=n(this),s=i.handlers[e].indexOf(t);s>=0&&i.handlers[e].splice(s,1);break;default:return o.call(this,e,t)}}},{}],18:[function(e,t,i){AFRAME.registerPrimitive("a-hand",{mappings:{side:"hand-controls.hand"}})},{}],19:[function(e,t,i){AFRAME.registerPrimitive("a-main",{})},{}],20:[function(e,t,i){AFRAME.registerPrimitive("a-player",{defaultComponents:{injectplayer:{}}})},{}]},{},[12]);
